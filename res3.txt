ğŸ¯ Demo of New fib2 APIs
========================


ğŸ” Generating proof from Plonky3 trace...
ğŸš€ Generating trace using Miden VM execution...
   ğŸ“ Assembling Miden program...
   â–¶ï¸  Executing Miden program...
   âœ… Miden execution completed
   ğŸ“ Original trace dimensions: 131072Ã—80
   ğŸ“ Writing Miden trace to fib_20000_trace_miden.log...
   âœ… Miden trace written to fib_20000_trace_miden.log
   ğŸ”„ Converting trace to Plonky3 format...
Converting trace: 131072Ã—80 -> 131072Ã—80
   âœ… Conversion completed in 80ms
   ğŸ“ Plonky3 trace dimensions: 131072Ã—80
   ğŸ“ˆ Conversion stats:
      Original height: 131072
      Padded height: 131072 (2^17)
      Padding rows added: 0
   ğŸ“ Writing Plonky3 trace to fib_20000_trace_p3.log...
   âœ… Plonky3 trace written to fib_20000_trace_p3.log
========================
   Using P3 trace (131072Ã—80) for proof generation...
========================

ğŸ” P3 with Keccak.
ğŸ” Generating Plonky3 STARK proof with simple increment constraint using Keccak...
   â€¢ P3 trace dimensions: 131072Ã—80
   â€¢ First few values in column 0 (should increment):
     Row 0: 0
     Row 1: 1
     Row 2: 2
     Row 3: 3
     Row 4: 4
     Row 5: 5
     Row 6: 6
     Row 7: 7

ğŸ—ï¸  Using synthetic increment AIR with constraint: trace[i][0] = trace[i-1][0] + 1

ğŸ” Generating proof...
Start:   Total proof generation
Â·Â·Start:   Step 0: Instance setup
Â·Â·Â·Â·End:     Step 0: Instance setup ................................................10.991Âµs
Â·Â·Start:   Step 1: Commit to execution trace
Â·Â·Â·Â·End:     Step 1: Commit to execution trace .....................................657.194ms
Â·Â·Start:   Step 2: Compute quotient polynomial
Trace domain: 131072, Quotient domain: 131072
Â·Â·Â·Â·End:     Step 2: Compute quotient polynomial ...................................37.585ms
Â·Â·Start:   Step 3: Commit to quotient polynomial
Â·Â·Â·Â·End:     Step 3: Commit to quotient polynomial .................................101.505ms
Â·Â·Start:   Step 4: Sample out-of-domain point
Â·Â·Â·Â·End:     Step 4: Sample out-of-domain point ....................................1.733Âµs
Â·Â·Start:   Step 5: Open polynomials
Â·Â·Â·Â·Start:   Produce FRI proof
input poly len: 1
Â·Â·Â·Â·Â·Â·Start:   commit phase
Â·Â·Â·Â·Â·Â·Â·Â·End:     commit phase ......................................................91.452ms
Â·Â·Â·Â·Â·Â·Start:   proof of work
Â·Â·Â·Â·Â·Â·Â·Â·End:     proof of work .....................................................3.166Âµs
Â·Â·Â·Â·Â·Â·Start:   query phase
Â·Â·Â·Â·Â·Â·Â·Â·End:     query phase .......................................................545.738Âµs
Â·Â·Â·Â·Â·Â·End:     Produce FRI proof ...................................................92.048ms
Â·Â·Â·Â·End:     Step 5: Open polynomials ..............................................200.455ms
Â·Â·End:     Total proof generation ..................................................996.847ms
   â€¢ Proof generated in 1.01s

âœ… Verifying proof...
   â€¢ Verification completed in 5ms
   â€¢ âœ… Proof is valid!

ğŸ‰ Successfully proved the increment constraint using Plonky3!
   â€¢ Constraint: trace[i][0] = trace[i-1][0] + 1 for all transitions
   âœ… P3 Keccak proof generation successful!

ğŸ” P3 with Poseidon2.
ğŸ” Generating Plonky3 STARK proof with simple increment constraint using Poseidon2...
   â€¢ P3 trace dimensions: 131072Ã—80
   â€¢ First few values in column 0 (should increment):
     Row 0: 0
     Row 1: 1
     Row 2: 2
     Row 3: 3
     Row 4: 4
     Row 5: 5
     Row 6: 6
     Row 7: 7

ğŸ—ï¸  Using synthetic increment AIR with constraint: trace[i][0] = trace[i-1][0] + 1

ğŸ” Generating proof...
Start:   Total proof generation
Â·Â·Start:   Step 0: Instance setup
Â·Â·Â·Â·End:     Step 0: Instance setup ................................................2.915Âµs
Â·Â·Start:   Step 1: Commit to execution trace
Â·Â·Â·Â·End:     Step 1: Commit to execution trace .....................................4.649s
Â·Â·Start:   Step 2: Compute quotient polynomial
Trace domain: 131072, Quotient domain: 131072
Â·Â·Â·Â·End:     Step 2: Compute quotient polynomial ...................................35.341ms
Â·Â·Start:   Step 3: Commit to quotient polynomial
Â·Â·Â·Â·End:     Step 3: Commit to quotient polynomial .................................289.947ms
Â·Â·Start:   Step 4: Sample out-of-domain point
Â·Â·Â·Â·End:     Step 4: Sample out-of-domain point ....................................441ns
Â·Â·Start:   Step 5: Open polynomials
Â·Â·Â·Â·Start:   Produce FRI proof
input poly len: 1
Â·Â·Â·Â·Â·Â·Start:   commit phase
Â·Â·Â·Â·Â·Â·Â·Â·End:     commit phase ......................................................419.061ms
Â·Â·Â·Â·Â·Â·Start:   proof of work
Â·Â·Â·Â·Â·Â·Â·Â·End:     proof of work .....................................................3.046Âµs
Â·Â·Â·Â·Â·Â·Start:   query phase
Â·Â·Â·Â·Â·Â·Â·Â·End:     query phase .......................................................591.675Âµs
Â·Â·Â·Â·Â·Â·End:     Produce FRI proof ...................................................419.699ms
Â·Â·Â·Â·End:     Step 5: Open polynomials ..............................................522.487ms
Â·Â·End:     Total proof generation ..................................................5.497s
   â€¢ Proof generated in 5.51s

âœ… Verifying proof...
   â€¢ Verification completed in 17ms
   â€¢ âœ… Proof is valid!

ğŸ‰ Successfully proved the increment constraint using Plonky3!
   â€¢ Constraint: trace[i][0] = trace[i-1][0] + 1 for all transitions
   âœ… P3 Poseidon2 proof generation successful!
========================
   Using Miden trace (131072Ã—80) for proof generation...
========================

ğŸ” Miden with blake3.
ğŸ” Generating native Miden STARK proof...
Start:   Miden STARK proof generation
Â·Â·Start:   Total proof generation
Â·Â·Â·Â·Start:   Step 0: AIR and channel setup
Â·Â·Â·Â·Â·Â·End:     Step 0: AIR and channel setup .......................................22.744Âµs
Â·Â·Â·Â·Start:   Step 1: Commit to execution trace
lde domain size: 1048576
Â·Â·Â·Â·Â·Â·End:     Step 1: Commit to execution trace ...................................6.382s
Â·Â·Â·Â·Start:   Step 2: Evaluate constraints
Â·Â·Â·Â·Â·Â·End:     Step 2: Evaluate constraints ........................................216.754ms
Â·Â·Â·Â·Start:   Step 3: Commit to constraint evaluations
Â·Â·Â·Â·Â·Â·End:     Step 3: Commit to constraint evaluations ............................1.193s
Â·Â·Â·Â·Start:   Step 4: Build DEEP composition polynomial
Â·Â·Â·Â·Â·Â·End:     Step 4: Build DEEP composition polynomial ...........................323.437ms
Â·Â·Â·Â·Start:   Step 5: Evaluate DEEP composition polynomial
Â·Â·Â·Â·Â·Â·End:     Step 5: Evaluate DEEP composition polynomial ........................106.546ms
Â·Â·Â·Â·Start:   Step 6: Compute FRI layers
Â·Â·Â·Â·Â·Â·End:     Step 6: Compute FRI layers ..........................................54.867ms
Â·Â·Â·Â·Start:   Step 7: Determine query positions
Â·Â·Â·Â·Â·Â·End:     Step 7: Determine query positions ...................................205.999Âµs
Â·Â·Â·Â·Start:   Step 8: Build proof object
Â·Â·Â·Â·Â·Â·End:     Step 8: Build proof object ..........................................11.028ms
Â·Â·Â·Â·End:     Total proof generation ................................................8.289s
Â·Â·End:     Miden STARK proof generation ............................................8.351s
   âœ… Miden proof generated successfully!
   ğŸ“Š Proof generation time: 8.351830202s
   ğŸ”¢ Final result on stack: StackOutputs { elements: [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] }
   ğŸ” Verifying Miden proof...
Start:   Miden proof verification
Â·Â·End:     Miden proof verification ................................................559.383Âµs
   âœ… Proof verification successful!
   â±ï¸  Verification time: 566.095Âµs
   ğŸ”’ Security level: 96 bits
   ğŸ‰ Successfully generated and verified native Miden STARK proof!
   âœ… Miden proof generation successful!

ğŸ” Miden with rpo256.
ğŸ” Generating native Miden STARK proof...
Start:   Miden STARK proof generation
Â·Â·Start:   Total proof generation
Â·Â·Â·Â·Start:   Step 0: AIR and channel setup
Â·Â·Â·Â·Â·Â·End:     Step 0: AIR and channel setup .......................................56.771Âµs
Â·Â·Â·Â·Start:   Step 1: Commit to execution trace
lde domain size: 1048576
Â·Â·Â·Â·Â·Â·End:     Step 1: Commit to execution trace ...................................75.000s
Â·Â·Â·Â·Start:   Step 2: Evaluate constraints
Â·Â·Â·Â·Â·Â·End:     Step 2: Evaluate constraints ........................................201.975ms
Â·Â·Â·Â·Start:   Step 3: Commit to constraint evaluations
Â·Â·Â·Â·Â·Â·End:     Step 3: Commit to constraint evaluations ............................15.863s
Â·Â·Â·Â·Start:   Step 4: Build DEEP composition polynomial
Â·Â·Â·Â·Â·Â·End:     Step 4: Build DEEP composition polynomial ...........................312.148ms
Â·Â·Â·Â·Start:   Step 5: Evaluate DEEP composition polynomial
Â·Â·Â·Â·Â·Â·End:     Step 5: Evaluate DEEP composition polynomial ........................97.284ms
Â·Â·Â·Â·Start:   Step 6: Compute FRI layers
Â·Â·Â·Â·Â·Â·End:     Step 6: Compute FRI layers ..........................................3.322s
Â·Â·Â·Â·Start:   Step 7: Determine query positions
Â·Â·Â·Â·Â·Â·End:     Step 7: Determine query positions ...................................345.052ms
Â·Â·Â·Â·Start:   Step 8: Build proof object
Â·Â·Â·Â·Â·Â·End:     Step 8: Build proof object ..........................................16.773ms
Â·Â·Â·Â·End:     Total proof generation ................................................95.160s
Â·Â·End:     Miden STARK proof generation ............................................95.220s
   âœ… Miden proof generated successfully!
   ğŸ“Š Proof generation time: 95.220985249s
   ğŸ”¢ Final result on stack: StackOutputs { elements: [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] }
   ğŸ” Verifying Miden proof...
Start:   Miden proof verification
Â·Â·End:     Miden proof verification ................................................15.653ms
   âœ… Proof verification successful!
   â±ï¸  Verification time: 15.665367ms
   ğŸ”’ Security level: 96 bits
   ğŸ‰ Successfully generated and verified native Miden STARK proof!
   âœ… Miden proof generation successful!

ğŸ‰ All API demos completed!
   Check the generated fib_*_trace_*.log files to see the traces.

ğŸ” Generating proof from Plonky3 trace...
ğŸš€ Generating trace using Miden VM execution...
   ğŸ“ Assembling Miden program...
   â–¶ï¸  Executing Miden program...
   âœ… Miden execution completed
   ğŸ“ Original trace dimensions: 131072Ã—80
   ğŸ“ Writing Miden trace to fib_20000_trace_miden.log...
